<!--
  Generated template for the CheckoutPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Checkout 2/2 - Payment</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item class="item-payment"> 
      <ion-label color="theme">Payment Option</ion-label>
    </ion-item>

    <ion-item no-lines *ngFor="let payment of paymentList; let index = index">
      <ion-label> {{ payment.title }} </ion-label>
      <!-- [(ngModel)]="payment.selected" -->
      <!-- checked="{{payment.selected}}" -->
      <ion-checkbox color="theme" (click)="paymentTapped(index)" [(ngModel)]="payment.selected"></ion-checkbox>
    </ion-item>
  </ion-list>

  <ion-card (click)="addressTapped()">
    <ion-card-header>
      Billing Address
      <ion-icon class="icon-edit" name="arrow-forward"> </ion-icon>
    </ion-card-header>
    <ion-card-content>
      <p> {{selectedBilling.firstname}} {{selectedBilling.lastname}} </p>
      <p> {{selectedBilling.street}} </p>
      <p> {{selectedBilling.city}}, {{selectedBilling.region.region}}, {{selectedBilling.postcode}} </p>
    </ion-card-content>
  </ion-card>

  <!-- Products in cart -->
  <ion-card>
    <ion-card-header>
      Products in Cart
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item no-lines class="item-custom" *ngFor="let product of productList; let index = index">
          <ion-thumbnail item-start>
            <img src="{{product.image}}">
          </ion-thumbnail>
          <p class="text-product"> {{ product.name }} </p>
          <p class="text-product"> x{{ product.qty }} </p>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Subtotal -->
  <ion-card>
    <ion-card-header>
      Totals
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item no-lines *ngFor="let total of totalList; let index = index">
          <p> {{ total.title }} </p>
          <p item-end> ₹ {{ total.value }} </p>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-footer no-shadow>
  <ion-toolbar position="bottom">
    <h4> Total: ₹ {{grandTotal}} </h4>
    <button color="theme" ion-button full [disabled]="isCheckoutDisabled" (click)="placeOrderTapped()"> Place Order </button>
    <!--*ngIf="!isPaypal"-->
    <!--
    <p *ngIf="isPaypal"> Paypal: {{savedPaypal.email}} </p>
    <button *ngIf="isPaypal" color="theme" ion-button full (click)="paypalTapped()"> Place Order with Paypal </button>
    -->
  </ion-toolbar>
</ion-footer>