<!--
  Generated template for the CheckoutShippingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Checkout 1/2 - Shipping</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card *ngIf="selectedShipping" (click)="addressTapped()">
    <ion-card-header>
      Shipping Address
      <ion-icon class="icon-edit" name="arrow-forward"> </ion-icon>
    </ion-card-header>
    <ion-card-content>
      <p> {{selectedShipping.firstname}} {{selectedShipping.lastname}} </p>
      <p> {{selectedShipping.street}} </p>
      <p> {{selectedShipping.city}}, {{selectedShipping.region.region}}, {{selectedShipping.postcode}}</p>
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="!selectedShipping" (click)="addressTapped()">
    <ion-card-header> 
      Add New Address 
      <ion-icon class="icon-edit" name="arrow-forward"> </ion-icon>
    </ion-card-header>
    <ion-card-content>
    </ion-card-content>
  </ion-card>

  <!-- may need to hide estimation that is not available -->
  <ion-list *ngIf="selectedShipping">
    <ion-item class="item-delivery"> 
      <ion-label color="theme">Delivery Option</ion-label>
    </ion-item>

    <ion-item no-lines *ngFor="let estimation of estimationList; let index = index"> 
      <ion-label>{{estimation.amount}} {{estimation.method_title}} {{estimation.carrier_title}}</ion-label>
      <ion-checkbox color="theme" [(ngModel)]="estimation.selected" disabled="{{!estimation.available}}"></ion-checkbox>
    </ion-item>
  </ion-list>
</ion-content>

<ion-footer no-shadow>
  <ion-toolbar position="bottom">
    <button color="theme" ion-button full (click)="paymentTapped()"> Go to Payment </button>
  </ion-toolbar>
</ion-footer>



