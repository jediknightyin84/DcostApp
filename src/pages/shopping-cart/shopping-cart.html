<!--
  Generated template for the ShoppingCartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Shopping Cart</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div *ngIf="isLogin">
    <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list>
      <ion-item no-lines class="item-cart" *ngFor="let product of cartList; let index = index"> 
        <ion-thumbnail item-start (click)="productTapped(index)">
          <img class="image-product" src={{product.image}}>
        </ion-thumbnail>

        <h2> {{ product.name }} </h2>
        <a class="text-detail" *ngIf="product.color"> Color: {{product.color}} </a>
        <a class="text-detail" *ngIf="product.size"> Size: {{product.size}} </a>
        <p class="text-detail"> Price: ₹ {{ product.price }} </p>

        <ion-buttons>
          <button ion-button small icon-only round color="theme" class="button-round" [disabled]="!product.canDecrease" (click)="decreaseTapped(index)">
            <ion-icon name="remove"></ion-icon>
          </button>
          <button ion-button small round color="theme" outline class="button-round"> {{product.qty}} </button>
          <button ion-button small icon-only round color="theme" class="button-round" [disabled]="!product.canIncrease" (click)="increaseTapped(index)"> 
            <ion-icon name="add"></ion-icon>
          </button>
        </ion-buttons>

        <button color="theme" ion-button small clear icon-only item-end (click)="deleteTapped(index)">
          <ion-icon name="icon-app-trash"></ion-icon>
        </button>
      </ion-item>
    </ion-list>
    <!--
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll> 
    -->
  </div>

  <div class="wrapper-login" *ngIf="!isLogin">
    <button ion-button outline color="theme" class="button-login" (click)="loginTapped()"> Login </button>
  </div>

  <div class="wrapper-empty" *ngIf="isLogin && cartList.length == 0">
    <p class="text-empty"> Empty </p>
  </div>

</ion-content>
    
<!-- *ngIf="isLogin" -->

<ion-footer padding *ngIf="isLogin">
  <div *ngIf="cartList.length > 0">
    <h4> Order Total: ₹ {{subTotal}} </h4>
    <button color="theme" full ion-button class="checkout-button" (click)="checkoutTapped()"> Proceed to Checkout </button>
  </div>
</ion-footer>

  


    






